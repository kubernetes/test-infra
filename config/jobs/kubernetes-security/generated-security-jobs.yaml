# Autogenerated by genjobs.go, do NOT edit!
# see genjobs.go, which you can run with hack/update-config.sh
presubmits:
  kubernetes-security/kubernetes:
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-bazel-build
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-build
    rerun_command: /test pull-security-kubernetes-bazel-build
    run_after_success:
    - agent: kubernetes
      always_run: false
      cluster: security
      context: pull-security-kubernetes-e2e-kubeadm-gce
      labels:
        preset-k8s-ssh: "true"
        preset-service-account: "true"
      max_concurrency: 8
      name: pull-security-kubernetes-e2e-kubeadm-gce
      rerun_command: /test pull-security-kubernetes-e2e-kubeadm-gce
      run_if_changed: ^(cmd/kubeadm|build/debs).*$
      skip_branches:
      - release-1.10
      - release-1.9
      - release-1.8
      skip_report: true
      spec:
        containers:
        - args:
          - --ssh=/etc/ssh-security/ssh-security
          - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
          - --upload=gs://kubernetes-security-prow/pr-logs
          - --timeout=75
          - --
          - --gcs-shared=gs://kubernetes-security-prow/bazel
          env:
          - name: SKIP_RELEASE_VALIDATION
            value: "true"
          image: gcr.io/k8s-testimages/e2e-kubeadm:v20180716-b9e2332f3
          name: ""
          resources: {}
          volumeMounts:
          - mountPath: /etc/ssh-security
            name: ssh-security
        volumes:
        - name: ssh-security
          secret:
            defaultMode: 256
            secretName: ssh-security
      trigger: (?m)^/test pull-security-kubernetes-e2e-kubeadm-gce,?(\s+|$)
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --build=//... -//vendor/...
        - --release=//build/release-tars
        - --gcs=gs://kubernetes-security-prow/ci/pull-security-kubernetes-bazel-build
        - --gcs-shared=gs://kubernetes-security-prow/bazel
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-build),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-bazel-build
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-build
    rerun_command: /test pull-security-kubernetes-bazel-build
    run_after_success:
    - agent: kubernetes
      always_run: false
      branches:
      - release-1.10
      cluster: security
      context: pull-security-kubernetes-e2e-kubeadm-gce
      labels:
        preset-k8s-ssh: "true"
        preset-service-account: "true"
      max_concurrency: 8
      name: pull-security-kubernetes-e2e-kubeadm-gce
      rerun_command: /test pull-security-kubernetes-e2e-kubeadm-gce
      run_if_changed: ^(cmd/kubeadm|build/debs).*$
      skip_report: true
      spec:
        containers:
        - args:
          - --ssh=/etc/ssh-security/ssh-security
          - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
          - --upload=gs://kubernetes-security-prow/pr-logs
          - --timeout=75
          - --
          - --gcs-shared=gs://kubernetes-security-prow/bazel
          env:
          - name: SKIP_RELEASE_VALIDATION
            value: "true"
          image: gcr.io/k8s-testimages/e2e-kubeadm:v20180716-b9e2332f3
          name: ""
          resources: {}
          volumeMounts:
          - mountPath: /etc/ssh-security
            name: ssh-security
        volumes:
        - name: ssh-security
          secret:
            defaultMode: 256
            secretName: ssh-security
      trigger: (?m)^/test pull-security-kubernetes-e2e-kubeadm-gce,?(\s+|$)
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --build=//... -//vendor/...
        - --release=//build/release-tars
        - --gcs=gs://kubernetes-security-prow/ci/pull-security-kubernetes-bazel-build
        - --gcs-shared=gs://kubernetes-security-prow/bazel
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-build),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-bazel-build
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-build
    rerun_command: /test pull-security-kubernetes-bazel-build
    run_after_success:
    - agent: kubernetes
      always_run: false
      branches:
      - release-1.9
      cluster: security
      context: pull-security-kubernetes-e2e-kubeadm-gce
      labels:
        preset-k8s-ssh: "true"
        preset-service-account: "true"
      max_concurrency: 8
      name: pull-security-kubernetes-e2e-kubeadm-gce
      rerun_command: /test pull-security-kubernetes-e2e-kubeadm-gce
      run_if_changed: ^(cmd/kubeadm|build/debs).*$
      skip_report: true
      spec:
        containers:
        - args:
          - --ssh=/etc/ssh-security/ssh-security
          - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
          - --upload=gs://kubernetes-security-prow/pr-logs
          - --timeout=75
          - --
          - --gcs-shared=gs://kubernetes-security-prow/bazel
          env:
          - name: SKIP_RELEASE_VALIDATION
            value: "true"
          image: gcr.io/k8s-testimages/e2e-kubeadm:v20180716-b9e2332f3
          name: ""
          resources: {}
          volumeMounts:
          - mountPath: /etc/ssh-security
            name: ssh-security
        volumes:
        - name: ssh-security
          secret:
            defaultMode: 256
            secretName: ssh-security
      trigger: (?m)^/test pull-security-kubernetes-e2e-kubeadm-gce,?(\s+|$)
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --build=//... -//vendor/...
        - --release=//build/release-tars
        - --gcs=gs://kubernetes-security-prow/ci/pull-security-kubernetes-bazel-build
        - --gcs-shared=gs://kubernetes-security-prow/bazel
        image: gcr.io/k8s-testimages/bazelbuild:v20180201-0184a54dc-0.8.1
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-build),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-bazel-build
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-build
    rerun_command: /test pull-security-kubernetes-bazel-build
    run_after_success:
    - agent: kubernetes
      always_run: false
      branches:
      - release-1.8
      cluster: security
      context: pull-security-kubernetes-e2e-kubeadm-gce
      labels:
        preset-k8s-ssh: "true"
        preset-service-account: "true"
      max_concurrency: 8
      name: pull-security-kubernetes-e2e-kubeadm-gce
      rerun_command: /test pull-security-kubernetes-e2e-kubeadm-gce
      run_if_changed: ^(cmd/kubeadm|build/debs).*$
      skip_report: true
      spec:
        containers:
        - args:
          - --ssh=/etc/ssh-security/ssh-security
          - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
          - --upload=gs://kubernetes-security-prow/pr-logs
          - --timeout=75
          - --
          - --gcs-shared=gs://kubernetes-security-prow/bazel
          env:
          - name: SKIP_RELEASE_VALIDATION
            value: "true"
          image: gcr.io/k8s-testimages/e2e-kubeadm:v20180716-b9e2332f3
          name: ""
          resources: {}
          volumeMounts:
          - mountPath: /etc/ssh-security
            name: ssh-security
        volumes:
        - name: ssh-security
          secret:
            defaultMode: 256
            secretName: ssh-security
      trigger: (?m)^/test pull-security-kubernetes-e2e-kubeadm-gce,?(\s+|$)
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --build=//cmd/... //pkg/... //federation/... //plugin/... //third_party/...
          //examples/... //test/... //vendor/k8s.io/...
        - --release=//build/release-tars
        - --gcs=gs://kubernetes-security-prow/ci/pull-security-kubernetes-bazel-build
        - --gcs-shared=gs://kubernetes-security-prow/bazel
        image: gcr.io/k8s-testimages/bazelbuild:v20180201-0184a54dc-0.6.1
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-build),?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-bazel-test
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-test
    rerun_command: /test pull-security-kubernetes-bazel-test
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --test=//... -//build/... -//vendor/...
        - --manual-test=//hack:verify-all
        - --test-args=--config=unit
        - --test-args=--build_tag_filters=-e2e,-integration
        - --test-args=--test_tag_filters=-e2e,-integration
        - --test-args=--flaky_test_attempts=3
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-test),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-bazel-test
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-test
    rerun_command: /test pull-security-kubernetes-bazel-test
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --test=//... -//build/... -//vendor/...
        - --manual-test=//hack:verify-all
        - --test-args=--config=unit
        - --test-args=--build_tag_filters=-e2e,-integration
        - --test-args=--test_tag_filters=-e2e,-integration
        - --test-args=--flaky_test_attempts=3
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-test),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-bazel-test
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-test
    rerun_command: /test pull-security-kubernetes-bazel-test
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --test=//... -//build/... -//vendor/...
        - --manual-test=//hack:verify-all
        - --test-args=--build_tag_filters=-e2e,-integration
        - --test-args=--test_tag_filters=-e2e,-integration
        - --test-args=--flaky_test_attempts=3
        image: gcr.io/k8s-testimages/bazelbuild:v20180201-0184a54dc-0.8.1
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-test),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-bazel-test
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-test
    rerun_command: /test pull-security-kubernetes-bazel-test
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        - --
        - --test=//cmd/... //pkg/... //federation/... //plugin/... //third_party/... //hack/...
          //vendor/k8s.io/...
        - --manual-test=//hack:verify-all
        - --test-args=--test_tag_filters=-integration
        - --test-args=--flaky_test_attempts=3
        image: gcr.io/k8s-testimages/bazelbuild:v20180201-0184a54dc-0.6.1
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-bazel-test),?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-cross
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-cross
    rerun_command: /test pull-security-kubernetes-cross
    run_if_changed: ^(build\/|hack\/lib\/)|(Makefile)$
    skip_branches:
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:v20180510-809cd85b5
        name: ""
        resources:
          requests:
            cpu: "7"
            memory: 41Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-cross,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.8
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-cross
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-cross
    rerun_command: /test pull-security-kubernetes-cross
    run_if_changed: ^(build\/|hack\/lib\/)|(Makefile)|(.*_(windows|linux|osx|unsupported)(_test)?\.go)$
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:v20180510-809cd85b5
        name: ""
        resources:
          requests:
            cpu: "7"
            memory: 41Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-cross,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-cross-prow
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-cross-prow
    rerun_command: /test pull-security-kubernetes-cross-prow
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: "7"
            memory: 41Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-cross-prow,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-dind-e2e
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-dind-e2e
    rerun_command: /test pull-security-kubernetes-dind-e2e
    run_if_changed: ""
    skip_branches:
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/test-infra=master
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --scenario=dindind_execute
        - --
        - kubetest
        - --
        - --build=dind
        - --deployment=dind
        - --ginkgo-focus=\[Conformance\]
        - --ginkgo-skip=(DNS)|(NodeSelector)
        - --up
        - --test
        - --down
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          capabilities:
            add:
            - SYS_ADMIN
          privileged: true
        volumeMounts:
        - mountPath: /lib/modules
          name: modules
          readOnly: true
        - mountPath: /sys/fs/cgroup
          name: cgroup
        - mountPath: /docker-graph
          name: auto-generated-docker-graph-volume-mount
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - hostPath:
          path: /lib/modules
          type: Directory
        name: modules
      - hostPath:
          path: /sys/fs/cgroup
          type: Directory
        name: cgroup
      - emptyDir: {}
        name: auto-generated-docker-graph-volume-mount
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-dind-e2e,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-e2e-containerd-gce
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-containerd-gce
    rerun_command: /test pull-security-kubernetes-e2e-containerd-gce
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --repo=github.com/containerd/cri
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-containerd-gce
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (containerd|pull-security-kubernetes-e2e-containerd-gce),?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-e2e-gce
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gce
    rerun_command: /test pull-security-kubernetes-e2e-gce
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-e2e-gce),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-e2e-gce
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gce
    rerun_command: /test pull-security-kubernetes-e2e-gce
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-e2e-gce),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-e2e-gce
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gce
    rerun_command: /test pull-security-kubernetes-e2e-gce
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-e2e-gce),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-e2e-gce
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gce
    rerun_command: /test pull-security-kubernetes-e2e-gce
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-e2e-gce),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-e2e-gce-100-performance
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-gce-100-performance
    rerun_command: /test pull-security-kubernetes-e2e-gce-100-performance
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=120
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-100-performance
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-e2e-gce-100-performance),?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-e2e-gce-big-performance
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-e2e-gce-big-performance
    rerun_command: /test pull-security-kubernetes-e2e-gce-big-performance
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=270
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-big-performance
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gce-big-performance,?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gce-device-plugin-gpu
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-gce-device-plugin-gpu),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gce-device-plugin-gpu
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-gce-device-plugin-gpu),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gce-device-plugin-gpu
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-gce-device-plugin-gpu),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-gce-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gce-device-plugin-gpu
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-gce-device-plugin-gpu),?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-e2e-gce-large-performance
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-e2e-gce-large-performance
    rerun_command: /test pull-security-kubernetes-e2e-gce-large-performance
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=570
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gce-large-performance
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gce-large-performance,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-e2e-gke
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gke
    rerun_command: /test pull-security-kubernetes-e2e-gke
    run_if_changed: ^(cluster/gce|cluster/addons).*$
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-e2e-gke
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gke
    rerun_command: /test pull-security-kubernetes-e2e-gke
    run_if_changed: ^(cluster/gce|cluster/addons).*$
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-e2e-gke
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gke
    rerun_command: /test pull-security-kubernetes-e2e-gke
    run_if_changed: ^(cluster/gce|cluster/addons).*$
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-e2e-gke
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-e2e-gke
    rerun_command: /test pull-security-kubernetes-e2e-gke
    run_if_changed: ^(cluster/gce|cluster/addons).*$
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --repo=github.com/kubernetes-security/kubernetes=$(PULL_REFS)
        - --repo=k8s.io/release
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gke-device-plugin-gpu
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke-device-plugin-gpu,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gke-device-plugin-gpu
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke-device-plugin-gpu,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gke-device-plugin-gpu
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke-device-plugin-gpu,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-e2e-gke-device-plugin-gpu
    rerun_command: /test pull-security-kubernetes-e2e-gke-device-plugin-gpu
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-gke-device-plugin-gpu
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-e2e-gke-device-plugin-gpu,?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-e2e-kops-aws
    labels:
      preset-aws-credential: "true"
      preset-aws-ssh: "true"
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-kops-aws
    rerun_command: /test pull-security-kubernetes-e2e-kops-aws
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-kops-aws
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-kops-aws),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-e2e-kops-aws
    labels:
      preset-aws-credential: "true"
      preset-aws-ssh: "true"
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-kops-aws
    rerun_command: /test pull-security-kubernetes-e2e-kops-aws
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-kops-aws
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-kops-aws),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-e2e-kops-aws
    labels:
      preset-aws-credential: "true"
      preset-aws-ssh: "true"
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-kops-aws
    rerun_command: /test pull-security-kubernetes-e2e-kops-aws
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-kops-aws
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-kops-aws),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-e2e-kops-aws
    labels:
      preset-aws-credential: "true"
      preset-aws-ssh: "true"
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-e2e-kops-aws
    rerun_command: /test pull-security-kubernetes-e2e-kops-aws
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-e2e-kops-aws
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-e2e-kops-aws),?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-integration
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-integration
    rerun_command: /test pull-security-kubernetes-integration
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:v20180510-809cd85b5
        name: ""
        resources:
          requests:
            cpu: "4"
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-integration),?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-integration-prow
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-integration-prow
    rerun_command: /test pull-security-kubernetes-integration-prow
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=60
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: "4"
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-integration-prow,?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-kubemark-e2e-gce-big
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-kubemark-e2e-gce-big
    rerun_command: /test pull-security-kubernetes-kubemark-e2e-gce-big
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=120
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-kubemark-e2e-gce-big
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-kubemark-e2e-gce-big),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-kubemark-e2e-gce-big
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-kubemark-e2e-gce-big
    rerun_command: /test pull-security-kubernetes-kubemark-e2e-gce-big
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=120
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-kubemark-e2e-gce-big
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-kubemark-e2e-gce-big),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-kubemark-e2e-gce-big
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-kubemark-e2e-gce-big
    rerun_command: /test pull-security-kubernetes-kubemark-e2e-gce-big
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=120
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-kubemark-e2e-gce-big
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (all|pull-security-kubernetes-kubemark-e2e-gce-big),?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-kubemark-e2e-gce-big
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-kubemark-e2e-gce-big
    rerun_command: /test pull-security-kubernetes-kubemark-e2e-gce-big
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=120
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-kubemark-e2e-gce-big
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-kubemark-e2e-gce-big,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-kubemark-e2e-gce-scale
    labels:
      preset-bazel-scratch-dir: "true"
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 1
    name: pull-security-kubernetes-kubemark-e2e-gce-scale
    rerun_command: /test pull-security-kubernetes-kubemark-e2e-gce-scale
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=k8s.io/release
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=1220
        - --
        - --stage=gs://kubernetes-security-prow/ci/pull-security-kubernetes-kubemark-e2e-gce-scale
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-kubemark-e2e-gce-scale,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-local-e2e
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 8
    name: pull-security-kubernetes-local-e2e
    rerun_command: /test pull-security-kubernetes-local-e2e
    run_if_changed: (hyperkube|local-up-cluster)
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=140
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources: {}
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-local-e2e,?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-local-e2e-containerized
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-local-e2e-containerized
    rerun_command: /test pull-security-kubernetes-local-e2e-containerized
    run_if_changed: ^(pkg|cmd)/kubelet.*$
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=140
        env:
        - name: DOCKERIZE_KUBELET
          value: "true"
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources: {}
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-local-e2e-containerized,?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-node-e2e
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-node-e2e
    rerun_command: /test pull-security-kubernetes-node-e2e
    run_if_changed: ""
    skip_branches:
    - release-1.10
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --node-args=--image-config-file=/workspace/test-infra/jobs/e2e_node/image-config.yaml
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-node-e2e),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.10
    cluster: security
    context: pull-security-kubernetes-node-e2e
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-node-e2e
    rerun_command: /test pull-security-kubernetes-node-e2e
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --node-args=--image-config-file=/workspace/test-infra/jobs/e2e_node/image-config.yaml
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.10
        name: ""
        resources:
          requests:
            memory: 6Gi
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-node-e2e),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.9
    cluster: security
    context: pull-security-kubernetes-node-e2e
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-node-e2e
    rerun_command: /test pull-security-kubernetes-node-e2e
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --node-args=--image-config-file=/workspace/test-infra/jobs/e2e_node/image-config.yaml
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.9
        name: ""
        resources:
          requests:
            memory: 6Gi
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-node-e2e),?(\s+|$)
  - agent: kubernetes
    always_run: true
    branches:
    - release-1.8
    cluster: security
    context: pull-security-kubernetes-node-e2e
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-node-e2e
    rerun_command: /test pull-security-kubernetes-node-e2e
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --node-args=--image-config-file=/workspace/test-infra/jobs/e2e_node/image-config.yaml
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-1.8
        name: ""
        resources:
          requests:
            memory: 6Gi
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-node-e2e),?(\s+|$)
  - agent: kubernetes
    always_run: false
    branches:
    - master
    cluster: security
    context: pull-security-kubernetes-node-e2e-containerd
    labels:
      preset-k8s-ssh: "true"
      preset-service-account: "true"
    max_concurrency: 12
    name: pull-security-kubernetes-node-e2e-containerd
    rerun_command: /test pull-security-kubernetes-node-e2e-containerd
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --root=/go/src
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --repo=github.com/containerd/cri
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=90
        - --
        - --node-args=--image-config-file=/workspace/test-infra/jobs/e2e_node/containerd/cri-master/image-config.yaml
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources:
          requests:
            memory: 6Gi
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test (containerd|pull-security-kubernetes-node-e2e-containerd),?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-typecheck
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-typecheck
    rerun_command: /test pull-security-kubernetes-typecheck
    run_if_changed: ""
    skip_branches:
    - release-1.9
    - release-1.8
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --root=/go/src
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        image: gcr.io/k8s-testimages/kubekins-e2e:v20180725-795cceb4c-master
        name: ""
        resources: {}
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-typecheck),?(\s+|$)
  - agent: kubernetes
    always_run: true
    cluster: security
    context: pull-security-kubernetes-verify
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-verify
    rerun_command: /test pull-security-kubernetes-verify
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:v20180510-809cd85b5
        name: ""
        resources:
          requests:
            cpu: "4"
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test( all| pull-security-kubernetes-verify),?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-verify-prow
    labels:
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-verify-prow
    rerun_command: /test pull-security-kubernetes-verify-prow
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --timeout=75
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        image: gcr.io/k8s-testimages/bootstrap:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: "4"
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /docker-graph
          name: docker-graph
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - emptyDir: {}
        name: docker-graph
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-verify-prow,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-bazel-build-canary
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-build-canary
    rerun_command: /test pull-security-kubernetes-bazel-build-canary
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --scenario=kubernetes_bazel
        - --timeout=60
        - --
        - --build=//... -//vendor/...
        - --release=//build/release-tars
        - --gcs=gs://kubernetes-security-prow/ci/pull-security-kubernetes-bazel-build-canary
        - --gcs-shared=gs://kubernetes-security-prow/bazel
        image: gcr.io/k8s-testimages/kubekins-e2e@sha256:02fe7ded2e8e477e52f3c82eab5fb6632ad7cd09612e2d7c5944d143974f3685
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-bazel-build-canary,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-bazel-test-canary
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-test-canary
    rerun_command: /test pull-security-kubernetes-bazel-test-canary
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --scenario=kubernetes_execute_bazel
        - --timeout=60
        - --
        - make
        - bazel-test
        image: gcr.io/k8s-testimages/kubekins-e2e@sha256:02fe7ded2e8e477e52f3c82eab5fb6632ad7cd09612e2d7c5944d143974f3685
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-bazel-test-canary,?(\s+|$)
  - agent: kubernetes
    always_run: false
    cluster: security
    context: pull-security-kubernetes-bazel-test-integration-canary
    labels:
      preset-bazel-scratch-dir: "true"
      preset-service-account: "true"
    max_concurrency: 0
    name: pull-security-kubernetes-bazel-test-integration-canary
    rerun_command: /test pull-security-kubernetes-bazel-test-integration-canary
    run_if_changed: ""
    skip_report: false
    spec:
      containers:
      - args:
        - --ssh=/etc/ssh-security/ssh-security
        - --job=$(JOB_NAME)
        - --repo=github.com/kubernetes-security/$(REPO_NAME)=$(PULL_REFS)
        - --service-account=/etc/service-account/service-account.json
        - --upload=gs://kubernetes-security-prow/pr-logs
        - --scenario=kubernetes_execute_bazel
        - --
        - --test=//test/integration/...
        - --test-args=--config=integration
        - --timeout=60
        image: gcr.io/k8s-testimages/kubekins-e2e:latest-experimental
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            memory: 6Gi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/ssh-security
          name: ssh-security
      volumes:
      - name: ssh-security
        secret:
          defaultMode: 256
          secretName: ssh-security
    trigger: (?m)^/test pull-security-kubernetes-bazel-test-integration-canary,?(\s+|$)
