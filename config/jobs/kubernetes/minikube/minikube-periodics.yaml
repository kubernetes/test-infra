periodics:
- name: ci-minikube-integration
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-docker-docker-linux-x86
      resources:
        limits:
          cpu: 7
          memory: 20Gi
        requests:
          cpu: 7
          memory: 20Gi
      # docker-in-docker needs privileged mode
      securityContext:
        privileged: true
# name convention: integration-<driver>-<container-runtime>-<OS>-<arch>
- name: ci-minikube-kvm-docker-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-kvm-docker-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-docker-docker-linux-arm
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    nodeSelector:
      kubernetes.io/arch: arm64
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-docker-docker-linux-arm
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-docker-containerd-linux-arm
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    nodeSelector:
      kubernetes.io/arch: arm64
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-docker-containerd-arm
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-kvm-containerd-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-kvm-containerd-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-kvm-crio-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-kvm-crio-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-docker-docker-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-docker-docker-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-docker-containerd-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-docker-containerd-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-docker-crio-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-docker-crio-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-none-containerd-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-none-containerd-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
- name: ci-minikube-none-docker-linux-x86
  cluster: k8s-infra-prow-build
  interval: 4h
  decorate: true
  path_alias: "k8s.io/minikube"
  labels:
    preset-dind-enabled: "true"
    preset-service-account: "true"
    preset-k8s-ssh: "true"
  annotations:
    testgrid-dashboards: minikube-periodics
  extra_refs:
  - org: kubernetes
    repo: minikube
    base_ref: master
    path_alias: k8s.io/minikube
  spec:
    containers:
    - image: us-central1-docker.pkg.dev/k8s-staging-test-infra/images/kubekins-e2e:v20260120-e2c483ffe9-master
      command:
      - runner.sh
      args:
      - make
      - integration-prow-none-docker-linux-x86
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      resources:
        requests:
          memory: 20Gi
          cpu: 7
        limits:
          memory: 20Gi
          cpu: 7
