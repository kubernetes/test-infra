periodics:
- interval: 3h
  cluster: k8s-infra-prow-build
  name: ci-cloud-provider-gcp-conformance-latest
  decorate: true
  decoration_config:
    timeout: 150m
  annotations:
    testgrid-tab-name: Conformance - Cloud Provider GCP - master
    testgrid-dashboards: provider-gcp-periodics
    description: Runs conformance tests using kubetest2 against cloud-provider-gcp master on GCE
  labels:
    preset-dind-enabled: "true"
    preset-k8s-ssh: "true"
    preset-service-account: "true"
  extra_refs:
  - org: kubernetes
    repo: cloud-provider-gcp
    base_ref: master
    path_alias: k8s.io/cloud-provider-gcp
  spec:
    containers:
    - image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20260205-38cfa9523f-master
      resources:
        limits:
          cpu: 4
          memory: 14Gi
        requests:
          cpu: 4
          memory: 14Gi
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      command:
      - runner.sh
      args:
      - "../cloud-provider-gcp/dev/ci/periodics/ci-cloud-provider-gcp-conformance-latest.sh"
- interval: 24h
  cluster: k8s-infra-prow-build
  name: ci-cloud-provider-gcp-e2e-latest
  decorate: true
  decoration_config:
    timeout: 80m
  annotations:
    testgrid-tab-name: E2E Full - Cloud Provider GCP - master
    testgrid-dashboards: provider-gcp-periodics
    description: Runs e2e-full tests using kubetest2 against cloud-provider-gcp master on GCE
  labels:
    preset-dind-enabled: "true"
    preset-k8s-ssh: "true"
    preset-service-account: "true"
  extra_refs:
  - org: kubernetes
    repo: cloud-provider-gcp
    base_ref: master
    path_alias: k8s.io/cloud-provider-gcp
  spec:
    containers:
    - image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20260205-38cfa9523f-master
      resources:
        limits:
          cpu: 4
          memory: 14Gi
        requests:
          cpu: 4
          memory: 14Gi
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      command:
      - runner.sh
      args:
      - "../cloud-provider-gcp/dev/ci/periodics/ci-cloud-provider-gcp-e2e-latest.sh"

- interval: 6h
  cluster: k8s-infra-prow-build
  name: ci-cloud-provider-gcp-e2e-latest-with-kubernetes-master
  decorate: true
  decoration_config:
    timeout: 80m
  annotations:
    testgrid-tab-name: E2E Full - Cloud Provider GCP - with latest k8s.io/kubernetes
    testgrid-dashboards: provider-gcp-periodics
    description: Runs e2e-full tests using kubetest2 against cloud-provider-gcp master on GCE using latest k8s.io/kubernetes libraries
  labels:
    preset-dind-enabled: "true"
    preset-k8s-ssh: "true"
    preset-service-account: "true"
  extra_refs:
  - org: kubernetes
    repo: cloud-provider-gcp
    base_ref: master
    path_alias: k8s.io/cloud-provider-gcp
  - org: kubernetes
    repo: kubernetes
    base_ref: master
    path_alias: k8s.io/kubernetes
  spec:
    containers:
    - image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20260205-38cfa9523f-master
      resources:
        limits:
          cpu: 4
          memory: 14Gi
        requests:
          cpu: 4
          memory: 14Gi
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      command:
      - runner.sh
      args:
      - "../cloud-provider-gcp/dev/ci/periodics/ci-cloud-provider-gcp-e2e-latest-with-kubernetes-master.sh"
- interval: 3h
  cluster: k8s-infra-prow-build
  name: ci-cloud-provider-gcp-conformance-latest-with-gcepd
  decorate: true
  decoration_config:
    timeout: 150m
  annotations:
    testgrid-tab-name: Conformance - Cloud Provider GCP with GCE-PD - master
    testgrid-dashboards: provider-gcp-periodics
    description: Runs conformance tests using kubetest2 against cloud-provider-gcp master on GCE
  labels:
    preset-dind-enabled: "true"
    preset-k8s-ssh: "true"
    preset-service-account: "true"
  extra_refs:
  - org: kubernetes
    repo: cloud-provider-gcp
    base_ref: master
    path_alias: k8s.io/cloud-provider-gcp
  spec:
    containers:
    - image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20260205-38cfa9523f-master
      resources:
        limits:
          cpu: 4
          memory: 14Gi
        requests:
          cpu: 4
          memory: 14Gi
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      command:
      - runner.sh
      args:
      - "../cloud-provider-gcp/dev/ci/periodics/ci-cloud-provider-gcp-conformance-latest-with-gcepd.sh"
- interval: 24h
  cluster: k8s-infra-prow-build
  name: ci-cloud-provider-gcp-e2e-latest-with-gcepd
  decorate: true
  decoration_config:
    timeout: 80m
  annotations:
    testgrid-tab-name: E2E Full - Cloud Provider GCP with GCE-PD - master
    testgrid-dashboards: provider-gcp-periodics
    description: Runs e2e-full tests using kubetest2 against cloud-provider-gcp master on GCE
  labels:
    preset-dind-enabled: "true"
    preset-k8s-ssh: "true"
    preset-service-account: "true"
  extra_refs:
  - org: kubernetes
    repo: cloud-provider-gcp
    base_ref: master
    path_alias: k8s.io/cloud-provider-gcp
  spec:
    containers:
    - image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20260205-38cfa9523f-master
      resources:
        limits:
          cpu: 4
          memory: 14Gi
        requests:
          cpu: 4
          memory: 14Gi
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      command:
      - runner.sh
      args:
      - "../cloud-provider-gcp/dev/ci/periodics/ci-cloud-provider-gcp-e2e-latest-with-gcepd.sh"

- interval: 6h
  cluster: k8s-infra-prow-build
  name: ci-cloud-provider-gcp-e2e-scenario-kops-simple
  decorate: true
  decoration_config:
    timeout: 80m
  annotations:
    testgrid-tab-name: scenario kops-simple
    testgrid-dashboards: provider-gcp-periodics
    description: Runs the kops-simple scenario
  labels:
    preset-dind-enabled: "true"
    preset-k8s-ssh: "true"
    preset-service-account: "true"
  extra_refs:
  - org: kubernetes
    repo: cloud-provider-gcp
    base_ref: master
    path_alias: cloud-provider-gcp
  - org: kubernetes
    repo: kops
    base_ref: master
    path_alias: kops
  - org: kubernetes
    repo: kubernetes
    base_ref: master
    path_alias: kubernetes
  spec:
    containers:
    - image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20260205-38cfa9523f-master
      resources:
        limits:
          cpu: 4
          memory: 14Gi
        requests:
          cpu: 4
          memory: 14Gi
      # we need privileged mode in order to do docker in docker
      securityContext:
        privileged: true
      command:
      - runner.sh
      args:
      - "../cloud-provider-gcp/dev/ci/periodics/ci-cloud-provider-gcp-e2e-scenario-kops-simple.sh"
