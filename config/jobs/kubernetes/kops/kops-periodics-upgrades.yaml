# Test jobs generated by build_jobs.py (do not manually edit)
# 35 jobs, total of 651 runs per week
periodics:

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko128-to-k129-ko129
  cluster: k8s-infra-kops-prow-build
  cron: '33 13-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.7"
      - name: K8S_VERSION_A
        value: "v1.28.14"
      - name: KOPS_VERSION_B
        value: "1.29"
      - name: K8S_VERSION_B
        value: "v1.29.9"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-2d6e5e2687-868df.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko128-to-k129-ko129

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-ko129-to-k129-ko129
  cluster: k8s-infra-kops-prow-build
  cron: '3 3-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.29.2"
      - name: K8S_VERSION_A
        value: "v1.29.8"
      - name: KOPS_VERSION_B
        value: "1.29"
      - name: K8S_VERSION_B
        value: "v1.29.9"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-ef508ab0ca-d8b4e.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-ko129-to-k129-ko129

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko128-to-k129-ko130
  cluster: k8s-infra-kops-prow-build
  cron: '56 8-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.7"
      - name: K8S_VERSION_A
        value: "v1.28.14"
      - name: KOPS_VERSION_B
        value: "1.30"
      - name: K8S_VERSION_B
        value: "v1.29.9"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-3403df09d3-5350d.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko128-to-k129-ko130

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-ko129-to-k130-ko130
  cluster: k8s-infra-kops-prow-build
  cron: '19 3-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.29.2"
      - name: K8S_VERSION_A
        value: "v1.29.9"
      - name: KOPS_VERSION_B
        value: "1.30"
      - name: K8S_VERSION_B
        value: "v1.30.5"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-eca79059e6-965f5.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-ko129-to-k130-ko130

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k130-ko130-to-k130-ko130
  cluster: k8s-infra-kops-prow-build
  cron: '9 13-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.30.4"
      - name: KOPS_VERSION_B
        value: "1.30"
      - name: K8S_VERSION_B
        value: "v1.30.5"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-8e6e1e25dc-e681d.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k130-ko130-to-k130-ko130

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k130-ko130-to-k130-ko130-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '44 0-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.30.4"
      - name: KOPS_VERSION_B
        value: "1.30"
      - name: K8S_VERSION_B
        value: "v1.30.5"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-1f324f187a-6e26b.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k130-ko130-to-k130-ko130-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko128-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '51 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.7"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-c71cd64100-cf4fc.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko128-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko129-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '16 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.29.2"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-03f788856c-b9e71.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko129-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko129-to-k128-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '30 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.29.2"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-f8fa69f086-6aa7c.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko129-to-k128-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko129-to-k129-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '17 0-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.29.2"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.29.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-3764f0160b-69478.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko129-to-k129-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-ko129-to-k130-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '20 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.29.2"
      - name: K8S_VERSION_A
        value: "v1.29.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.30.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-1be01b4fec-344aa.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-ko129-to-k130-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko130-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '53 0-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-19286525ea-a4fd9.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko130-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko130-to-k127-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '43 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-1703c34bc8-52589.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko130-to-k127-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko130-to-k128-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '35 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-2cd1ec8d69-62b98.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko130-to-k128-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko130-to-k128-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '26 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-f6f6d04b57-9ffc0.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko130-to-k128-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko130-to-k129-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '8 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.29.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-27163eaf63-fff4c.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko130-to-k129-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko130-to-k129-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '9 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.29.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-dd96f7c979-02e8e.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko130-to-k129-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-ko130-to-k130-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '25 0-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.29.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.30.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-0060c14f14-4e333.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-ko130-to-k130-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-ko130-to-k130-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '12 0-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.30.3"
      - name: K8S_VERSION_A
        value: "v1.29.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.30.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-48513dbe69-9f11d.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-ko130-to-k130-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k130-kolatest-to-klatest-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '54 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.30.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-6bfc0252c3-8e342.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k130-kolatest-to-klatest-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k130-kolatest-to-klatest-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '44 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.30.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-32059edf0e-e8534.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k130-kolatest-to-klatest-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-kolatest-to-k130-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '54 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.29.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.30.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-cd416be34a-407d2.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-kolatest-to-k130-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k129-kolatest-to-k130-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '46 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.29.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.30.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-6097540672-d838f.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k129-kolatest-to-k130-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-kolatest-to-k129-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '1 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.29.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-172a12e2ae-df4fa.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-kolatest-to-k129-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-kolatest-to-k129-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '59 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.29.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-73f49c02d7-9ea9c.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-kolatest-to-k129-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-kolatest-to-k128-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '11 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-91022f0f89-36174.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-kolatest-to-k128-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-kolatest-to-k128-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '22 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-138aaeffda-13c0c.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-kolatest-to-k128-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-kolatest-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '15 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-7e266adbcb-d6122.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-kolatest-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-kolatest-to-k127-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '19 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-7e676cb7b6-b3cbf.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-kolatest-to-k127-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '59 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-3a5daf4e9a-96255.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '7 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-734077b544-64c63.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-kci-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '52 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "ci"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-ed4da97961-6b857.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-kci-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-kci-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '20 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "ci"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-9b8b75964a-36844.tests-kops-aws.k8s.io"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-kci-kolatest-many-addons

# {"cloud": "aws", "distro": "u2404", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-bug16276-calico
  cluster: k8s-infra-kops-prow-build
  cron: '16 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.7"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "bug16276-calico.k8s.local"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2404
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: kops-distro-u2404, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-bug16276-calico

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "cilium"}
- name: e2e-kops-aws-upgrade-bug16276-cilium
  cluster: k8s-infra-kops-prow-build
  cron: '58 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.7"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "bug16276-cilium.k8s.local"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20241230-3006692a6f-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: cilium
    testgrid-dashboards: kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-bug16276-cilium
