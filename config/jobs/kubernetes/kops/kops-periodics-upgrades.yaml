# Test jobs generated by build_jobs.py (do not manually edit)
# 44 jobs, total of 784 runs per week
periodics:

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko126-to-k127-ko127
  cluster: k8s-infra-kops-prow-build
  cron: '6 10-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.26.6"
      - name: K8S_VERSION_A
        value: "v1.26.11"
      - name: KOPS_VERSION_B
        value: "1.27"
      - name: K8S_VERSION_B
        value: "v1.27.8"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-9ba274829e-feea8.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko126-to-k127-ko127

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko126-to-k127-ko127-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '5 13-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.26.6"
      - name: K8S_VERSION_A
        value: "v1.26.11"
      - name: KOPS_VERSION_B
        value: "1.27"
      - name: K8S_VERSION_B
        value: "v1.27.8"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-ebe0e4cc67-046aa.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko126-to-k127-ko127-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko127-to-k127-ko127
  cluster: k8s-infra-kops-prow-build
  cron: '40 4-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.27.7"
      - name: KOPS_VERSION_B
        value: "1.27"
      - name: K8S_VERSION_B
        value: "v1.27.8"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-5f6a7c34d6-41951.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko127-to-k127-ko127

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko127-to-k127-ko127-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '3 23-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.27.7"
      - name: KOPS_VERSION_B
        value: "1.27"
      - name: K8S_VERSION_B
        value: "v1.27.8"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-ec26b3174a-cd001.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko127-to-k127-ko127-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko126-to-k127-ko128
  cluster: k8s-infra-kops-prow-build
  cron: '11 19-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.26.6"
      - name: K8S_VERSION_A
        value: "v1.26.11"
      - name: KOPS_VERSION_B
        value: "1.28"
      - name: K8S_VERSION_B
        value: "v1.27.8"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-13b41b15e5-ff6f5.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko126-to-k127-ko128

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko126-to-k127-ko128-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '52 8-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.26.6"
      - name: K8S_VERSION_A
        value: "v1.26.11"
      - name: KOPS_VERSION_B
        value: "1.28"
      - name: K8S_VERSION_B
        value: "v1.27.8"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-6734e67200-e477d.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko126-to-k127-ko128-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko127-to-k128-ko128
  cluster: k8s-infra-kops-prow-build
  cron: '40 4-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.27.8"
      - name: KOPS_VERSION_B
        value: "1.28"
      - name: K8S_VERSION_B
        value: "v1.28.4"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-5cce897dd9-6fae0.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko127-to-k128-ko128

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko127-to-k128-ko128-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '24 12-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.27.8"
      - name: KOPS_VERSION_B
        value: "1.28"
      - name: K8S_VERSION_B
        value: "v1.28.4"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-eb7d632f12-192d9.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko127-to-k128-ko128-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko128-to-k128-ko128
  cluster: k8s-infra-kops-prow-build
  cron: '23 23-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.28.3"
      - name: KOPS_VERSION_B
        value: "1.28"
      - name: K8S_VERSION_B
        value: "v1.28.4"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-42bfef03b8-389b1.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko128-to-k128-ko128

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-ko128-to-k128-ko128-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '48 16-23/24 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.28.3"
      - name: KOPS_VERSION_B
        value: "1.28"
      - name: K8S_VERSION_B
        value: "v1.28.4"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-cb6ec85b38-a11dd.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-ko128-to-k128-ko128-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko126-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '32 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.26.6"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-a107ec63ea-42cbe.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko126-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko126-to-k127-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '10 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.26.6"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-cb261a338c-88b03.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko126-to-k127-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k124-ko127-to-k125-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '43 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.24.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.25.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-47fcbdd84b-0374e.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k124-ko127-to-k125-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k124-ko127-to-k125-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '1 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.24.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.25.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-f377e4ced7-0f515.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k124-ko127-to-k125-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k125-ko127-to-k126-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '19 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.25.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.26.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-c46fe1ee39-eabd1.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k125-ko127-to-k126-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k125-ko127-to-k126-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '8 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.25.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.26.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-0c89ac61ed-69907.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k125-ko127-to-k126-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko127-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '37 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-96cbebf7ac-5a314.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko127-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko127-to-k127-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '6 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-5b97447976-b7284.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko127-to-k127-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko127-to-k128-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '55 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-1731c72aa2-b68de.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko127-to-k128-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko127-to-k128-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '31 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.27.3"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-3e38f4058a-0e0be.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko127-to-k128-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k124-ko128-to-k125-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '51 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.24.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.25.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-91780086ad-c0835.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k124-ko128-to-k125-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k124-ko128-to-k125-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '40 0-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.24.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.25.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-6d3bfe8337-84e86.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k124-ko128-to-k125-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k125-ko128-to-k126-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '47 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.25.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.26.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-1e995c134b-6d07a.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k125-ko128-to-k126-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k125-ko128-to-k126-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '37 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.25.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.26.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-78a1b4a809-b1e59.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k125-ko128-to-k126-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko128-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '5 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-cbcff57532-10a01.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko128-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-ko128-to-k127-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '23 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-e9a54c1e99-7ace6.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-ko128-to-k127-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko128-to-k128-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '55 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-e27d55cd2a-41048.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko128-to-k128-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-ko128-to-k128-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '42 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-3788fcc203-58f41.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-ko128-to-k128-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-kolatest-to-klatest-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '46 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-e2cdb5dc79-ded41.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-kolatest-to-klatest-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k128-kolatest-to-klatest-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '0 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-1fb091dcd3-b22a5.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k128-kolatest-to-klatest-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-kolatest-to-k128-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '11 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-91022f0f89-36174.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-kolatest-to-k128-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k127-kolatest-to-k128-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '22 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.27.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-138aaeffda-13c0c.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k127-kolatest-to-k128-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-kolatest-to-k127-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '15 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-7e266adbcb-d6122.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-kolatest-to-k127-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k126-kolatest-to-k127-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '19 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.26.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.27.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-7e676cb7b6-b3cbf.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k126-kolatest-to-k127-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k125-kolatest-to-k126-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '38 4-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.25.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.26.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-867a23fec4-ae36a.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k125-kolatest-to-k126-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k125-kolatest-to-k126-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '52 0-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.25.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.26.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-777e381679-439d4.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k125-kolatest-to-k126-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k124-kolatest-to-k125-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '40 6-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.24.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.25.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-b6570541df-e1aa5.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k124-kolatest-to-k125-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-k124-kolatest-to-k125-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '29 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "v1.24.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.25.0"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-34130155e9-15435.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-k124-kolatest-to-k125-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '59 7-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-3a5daf4e9a-96255.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '7 2-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "latest"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-734077b544-64c63.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-klatest-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-kci-kolatest
  cluster: k8s-infra-kops-prow-build
  cron: '52 5-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "ci"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-ed4da97961-6b857.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-kci-kolatest

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-kstable-kolatest-to-kci-kolatest-many-addons
  cluster: k8s-infra-kops-prow-build
  cron: '20 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "latest"
      - name: K8S_VERSION_A
        value: "stable"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "ci"
      - name: KOPS_SKIP_E2E
        value: "1"
      - name: KOPS_TEMPLATE
        value: "tests/e2e/templates/many-addons.yaml.tmpl"
      - name: KOPS_CONTROL_PLANE_SIZE
        value: "3"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "e2e-9b8b75964a-36844.tests-kops-aws.k8s.io"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades-many-addons, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-kstable-kolatest-to-kci-kolatest-many-addons

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "calico"}
- name: e2e-kops-aws-upgrade-bug16276-calico
  cluster: k8s-infra-kops-prow-build
  cron: '16 3-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "bug16276-calico.k8s.local"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: calico
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-bug16276-calico

# {"cloud": "aws", "distro": "u2204", "k8s_version": "stable", "kops_channel": "alpha", "kops_version": "latest", "networking": "cilium"}
- name: e2e-kops-aws-upgrade-bug16276-cilium
  cluster: k8s-infra-kops-prow-build
  cron: '58 1-23/8 * * *'
  labels:
    preset-service-account: "true"
    preset-aws-ssh: "true"
    preset-dind-enabled: "true"
  max_concurrency: 1
  decorate: true
  decoration_config:
    timeout: 150m
  extra_refs:
  - org: kubernetes
    repo: kops
    base_ref: master
    workdir: true
    path_alias: k8s.io/kops
  spec:
    serviceAccountName: prowjob-default-sa
    containers:
    - command:
      - runner.sh
      args:
      - ./tests/e2e/scenarios/upgrade-ab/run-test.sh
      env:
      - name: KOPS_VERSION_A
        value: "v1.28.4"
      - name: K8S_VERSION_A
        value: "v1.28.0"
      - name: KOPS_VERSION_B
        value: "latest"
      - name: K8S_VERSION_B
        value: "v1.28.0"
      - name: CLOUD_PROVIDER
        value: "aws"
      - name: CLUSTER_NAME
        value: "bug16276-cilium.k8s.local"
      - name: DISCOVERY_STORE
        value: "s3://k8s-kops-ci-prow"
      - name: KOPS_DNS_DOMAIN
        value: "tests-kops-aws.k8s.io"
      - name: KOPS_STATE_STORE
        value: "s3://k8s-kops-ci-prow-state-store"
      - name: KUBE_SSH_USER
        value: "ubuntu"
      - name: KOPS_IRSA
        value: "true"
      image: gcr.io/k8s-staging-test-infra/kubekins-e2e:v20240130-9db6d59ca0-master
      imagePullPolicy: Always
      resources:
        limits:
          cpu: "4"
          memory: 6Gi
        requests:
          cpu: "4"
          memory: 6Gi
      securityContext:
        privileged: true
  annotations:
    test.kops.k8s.io/cloud: aws
    test.kops.k8s.io/distro: u2204
    test.kops.k8s.io/k8s_version: stable
    test.kops.k8s.io/kops_channel: alpha
    test.kops.k8s.io/kops_version: latest
    test.kops.k8s.io/networking: cilium
    testgrid-dashboards: google-aws, kops-distro-u2204, kops-k8s-stable, kops-latest, kops-upgrades, sig-cluster-lifecycle-kops
    testgrid-days-of-results: '90'
    testgrid-tab-name: kops-aws-upgrade-bug16276-cilium
