periodics:
  - name: ci-test-infra-benchmark-demo
    cluster: k8s-infra-prow-build
    interval: 24h
    decorate: true
    extra_refs:
      - org: kubernetes
        repo: test-infra
        base_ref: master
        path_alias: k8s.io/test-infra
    spec:
      containers:
        - image: gcr.io/k8s-staging-test-infra/benchmarkjunit:latest
          command:
            - /benchmarkjunit
          args:
            - --log-file=$(ARTIFACTS)/benchmark-log.txt
            - --output=$(ARTIFACTS)/junit_benchmarks.xml
            - --pass-on-error
            - ./experiment/dummybenchmarks/...
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 2
              memory: 4Gi
    annotations:
      testgrid-dashboards: sig-testing-canaries
      testgrid-tab-name: benchmark-demo
      description: Demoing JUnit golang benchmark results.
